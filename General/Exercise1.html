<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>010 Practice Exercise 1</title>
</head>

<body>
    <div class="asset-container">
        <div class="asset-container__padding article-view">
            <div class="w3c-default">
                <p style="">Check whether the user's browser supports HTML5 Geolocation API. If it is supported, get the geolocation
                    information and display the time you fetched geolocation information. If it is not supported, display
                    a message, "Your browser does not support HTML5 Geolocation"</p>
            </div>
        </div>
    </div>

    <!--Output of the result div-->

    <div id="result"></div><br />


<script src="http://maps.googleapis.com/maps/api/js"></script>
<script>

    window.onload = function()
    {
        // Here we check does the users support geolocation
        if(navigator.geolocation)
        {
            // here we set the get gunction requerst in case of success for HTML5 support by the browser
            navigator.geolocation.getCurrentPosition(onSuccess);
        }
        else
        {
            // Decline handling 
            document.getElementById("result").innerHTML = "Your browser does not support HTML5 Geolocation";
        }
    
        // Function to request time of the geolocation
        function onSuccess(position)
        {
            var date = new Date(position.timestamp);
            var hours = date.getHours();
            var minutes = date.getMinutes();

            var ampm = "AM";

            if (hours < 10) {
                hours = "0" + hours;
            }

            if (minutes < 10) {
                minutes = "0" + minutes;
            }

            if (hours >= 12) {
                ampm = "PM";
            }

            if (hours > 12) {
                hours = hours - 12;
            }

            

            document.getElementById("result").innerHTML = "We collected location information at " + hours + ":" + minutes + " " + ampm;

        }

    }


</script>


</body>

</html>